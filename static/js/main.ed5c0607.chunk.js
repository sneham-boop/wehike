(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{139:function(e,t,a){e.exports=a.p+"static/media/main-logo.b68a6d71.png"},159:function(e,t,a){},170:function(e,t,a){},176:function(e,t,a){},179:function(e,t,a){e.exports=a.p+"static/media/profile-photo.a34ad9fa.jpeg"},183:function(e,t,a){e.exports=a.p+"static/media/large-logo.e97d4e0a.svg"},184:function(e,t,a){e.exports=a.p+"static/media/rectangle-logo.f1dc6b3a.svg"},190:function(e,t,a){e.exports=a(277)},195:function(e,t,a){},216:function(e,t,a){},219:function(e,t,a){},222:function(e,t,a){},223:function(e,t,a){},224:function(e,t,a){},271:function(e,t,a){},277:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(20),o=a.n(l),c=(a(170),a(18)),i=a(9),u=a(4),s=a(51),m=(a(78),a(195),a(26)),d=a(67),p=a.n(d),f=a(114);function E(){E=function(){return e};var e={},t=Object.prototype,a=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",l=n.asyncIterator||"@@asyncIterator",o=n.toStringTag||"@@toStringTag";function c(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(x){c=function(e,t,a){return e[t]=a}}function i(e,t,a,n){var r=t&&t.prototype instanceof m?t:m,l=Object.create(r.prototype),o=new w(n||[]);return l._invoke=function(e,t,a){var n="suspendedStart";return function(r,l){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===r)throw l;return C()}for(a.method=r,a.arg=l;;){var o=a.delegate;if(o){var c=N(o,a);if(c){if(c===s)continue;return c}}if("next"===a.method)a.sent=a._sent=a.arg;else if("throw"===a.method){if("suspendedStart"===n)throw n="completed",a.arg;a.dispatchException(a.arg)}else"return"===a.method&&a.abrupt("return",a.arg);n="executing";var i=u(e,t,a);if("normal"===i.type){if(n=a.done?"completed":"suspendedYield",i.arg===s)continue;return{value:i.arg,done:a.done}}"throw"===i.type&&(n="completed",a.method="throw",a.arg=i.arg)}}}(e,a,o),l}function u(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(x){return{type:"throw",arg:x}}}e.wrap=i;var s={};function m(){}function d(){}function p(){}var f={};c(f,r,function(){return this});var h=Object.getPrototypeOf,g=h&&h(h(k([])));g&&g!==t&&a.call(g,r)&&(f=g);var b=p.prototype=m.prototype=Object.create(f);function v(e){["next","throw","return"].forEach(function(t){c(e,t,function(e){return this._invoke(t,e)})})}function y(e,t){var n;this._invoke=function(r,l){function o(){return new t(function(n,o){!function n(r,l,o,c){var i=u(e[r],e,l);if("throw"!==i.type){var s=i.arg,m=s.value;return m&&"object"==typeof m&&a.call(m,"__await")?t.resolve(m.__await).then(function(e){n("next",e,o,c)},function(e){n("throw",e,o,c)}):t.resolve(m).then(function(e){s.value=e,o(s)},function(e){return n("throw",e,o,c)})}c(i.arg)}(r,l,n,o)})}return n=n?n.then(o,o):o()}}function N(e,t){var a=e.iterator[t.method];if(void 0===a){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,N(e,t),"throw"===t.method))return s;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return s}var n=u(a,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,s;var r=n.arg;return r?r.done?(t[e.resultName]=r.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,s):r:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,s)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function w(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function k(e){if(e){var t=e[r];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,l=function t(){for(;++n<e.length;)if(a.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return l.next=l}}return{next:C}}function C(){return{value:void 0,done:!0}}return d.prototype=p,c(b,"constructor",p),c(p,"constructor",d),d.displayName=c(p,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,o,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},v(y.prototype),c(y.prototype,l,function(){return this}),e.AsyncIterator=y,e.async=function(t,a,n,r,l){void 0===l&&(l=Promise);var o=new y(i(t,a,n,r),l);return e.isGeneratorFunction(a)?o:o.next().then(function(e){return e.done?e.value:o.next()})},v(b),c(b,o,"Generator"),c(b,r,function(){return this}),c(b,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var a in e)t.push(a);return t.reverse(),function a(){for(;t.length;){var n=t.pop();if(n in e)return a.value=n,a.done=!1,a}return a.done=!0,a}},e.values=k,w.prototype={constructor:w,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(a,n){return o.type="throw",o.arg=e,t.next=a,n&&(t.method="next",t.arg=void 0),!!n}for(var r=this.tryEntries.length-1;r>=0;--r){var l=this.tryEntries[r],o=l.completion;if("root"===l.tryLoc)return n("end");if(l.tryLoc<=this.prev){var c=a.call(l,"catchLoc"),i=a.call(l,"finallyLoc");if(c&&i){if(this.prev<l.catchLoc)return n(l.catchLoc,!0);if(this.prev<l.finallyLoc)return n(l.finallyLoc)}else if(c){if(this.prev<l.catchLoc)return n(l.catchLoc,!0)}else{if(!i)throw new Error("try statement without catch or finally");if(this.prev<l.finallyLoc)return n(l.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&a.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var l=r;break}}l&&("break"===e||"continue"===e)&&l.tryLoc<=t&&t<=l.finallyLoc&&(l=null);var o=l?l.completion:{};return o.type=e,o.arg=t,l?(this.method="next",this.next=l.finallyLoc,s):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),s},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),O(a),s}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var n=a.completion;if("throw"===n.type){var r=n.arg;O(a)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,a){return this.delegate={iterator:k(e),resultName:t,nextLoc:a},"next"===this.method&&(this.arg=void 0),s}},e}var h=Object(f.recoilPersist)().persistAtom,g=Object(c.b)({key:"userState",default:null,effects_UNSTABLE:[h]}),b=Object(c.b)({key:"runsState",default:null,effects_UNSTABLE:[h]}),v=Object(c.b)({key:"runnerRunsState",default:null,effects_UNSTABLE:[h]}),y=Object(c.b)({key:"plannerRunsState",default:null,effects_UNSTABLE:[h]});function N(){var e=Object(c.c)(b),t=Object(u.a)(e,2),a=(t[0],t[1],Object(c.c)(v)),r=Object(u.a)(a,2),l=r[0],o=r[1],i=Object(c.c)(y),s=Object(u.a)(i,2),d=(s[0],s[1]),f=Object(c.c)(g),h=Object(u.a)(f,2),N=h[0],j=h[1];function O(){return(O=Object(m.a)(E().mark(function e(t){var a,n,r,l,o,c,i,u,s,m,d,f,h,g,b;return E().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.planner_id,n=t.name,r=t.description,l=t.address,o=t.distance,c=t.time,i=t.date,u=t.lat,s=t.lng,m=t.address_to,d=t.lat_to,f=t.lng_to,h=t.file,e.prev=1,e.next=4,p()({method:"post",url:"/api/runs",data:{planner_id:a,name:n,description:r,location:l,distance:o,time:c,date:i,lat:u,lng:s,location_to:m,latitude_to:d,longitude_to:f}});case 4:return g=e.sent,b=g.data.run,e.next=8,p()({method:"post",url:"/api/image/".concat(b.id),data:h,headers:{"Content-Type":"image/jpeg"}});case 8:if(200===e.sent.status){e.next=11;break}return e.abrupt("return",!1);case 11:return e.abrupt("return",!0);case 14:e.prev=14,e.t0=e.catch(1),console.log(e.t0);case 17:case"end":return e.stop()}},e,null,[[1,14]])}))).apply(this,arguments)}function w(){return(w=Object(m.a)(E().mark(function e(t){var a,n,r,l,o,c,i,u,s,m;return E().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.name,n=t.email,r=t.password,l=t.phone,o=t.age,c=t.gender,i=t.runner,u=t.planner,e.prev=1,e.next=4,p()({method:"post",url:"/api/users",data:{name:a,email:n,password:r,phone:l,age:o,gender:c,runner:i,planner:u}});case 4:if(s=e.sent,m=s.data.user,200===s.status){e.next=8;break}return e.abrupt("return",!1);case 8:return j(m),e.abrupt("return",!0);case 12:e.prev=12,e.t0=e.catch(1),console.log(e.t0);case 15:case"end":return e.stop()}},e,null,[[1,12]])}))).apply(this,arguments)}return Object(n.useEffect)(function(){N&&Promise.all([p.a.get("/api/runs/runner/".concat(N.id)),p.a.get("/api/runs/planner/".concat(N.id))]).then(function(e){var t=e[0].data.runnerRuns,a=e[1].data.plannerRuns;o(t),d(a)}).catch(function(e){console.log(e)})},[N]),{login:function(e,t){return p.a.post("/api/login",{email:e,password:t}).then(function(e){var t=e.data.user;return j(t),!0}).catch(function(e){console.log(e)})},logout:function(){return p.a.post("/api/logout").then(function(){return j(null),o(null),d(null),null}).catch(function(e){console.log(e)})},joinRun:function(e,t){return p.a.post("/api/register",{runner_id:e,run_id:t}).then(function(e){if(e.data.user_run)return!0}).catch(function(e){console.log(e)})},canJoinRun:function(e){return!l||!l[e]},createRun:function(e){return O.apply(this,arguments)},registerUser:function(e){return w.apply(this,arguments)}}}function j(e){var t=e.runType,a=e.joinStatus,l=e.join,o=Object(n.useState)("Join"),s=Object(u.a)(o,2),m=s[0],d=s[1],p=Object(n.useState)(!1),f=Object(u.a)(p,2),E=f[0],h=f[1],b=Object(c.d)(g),v=Object(i.n)();Object(n.useEffect)(function(){a||(d("Already joined"),h(!0))},[]);return r.a.createElement(r.a.Fragment,null,"available"===t&&r.a.createElement("button",{type:"button",class:"join-button",onClick:function(){b?l():v("/signin")},disabled:E},m))}var O=a(76),w=a(85),k=a(59),C=a(57),x=a(147),_=Object(f.recoilPersist)().persistAtom,L=Object(c.b)({key:"userCoordinatesAtom",default:{lat:43.6532,lng:-79.3832},effects_UNSTABLE:[_]}),I=function(e){var t=e.zoom,a=e.from,n=e.to;Object(c.c)(L);var l=Object({NODE_ENV:"production",PUBLIC_URL:"/werun"}).REACT_APP_MAP_API_KEY,o=function(e,t){var r=e;!function(){r=new t.Map(document.getElementById("run-path"),{mapId:"4493db09864aa939",center:new t.LatLng(43.6532,-79.3832),zoom:13,mapTypeId:t.MapTypeId.ROADMAP,disableDefaultUI:!0});var e=new t.DirectionsRenderer,l=new t.DirectionsService;!function(e,a,n,r){n.route({origin:e,destination:a,travelMode:t.TravelMode.WALKING},function(e,a){a===t.DirectionsStatus.OK?r.setDirections(e):window.alert("Directions request failed due to "+a)})}(new t.LatLng(a.lat,a.lng),new t.LatLng(n.lat,n.lng),l,e),e.setMap(r),e.setOptions({polylineOptions:{strokeColor:"#80B918CC",strokeWeight:"8"}}),e.setPanel(document.getElementById("run-path"))}()};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{id:"run-path",style:{height:"400px",width:"400px"}},r.a.createElement(x.a,{bootstrapURLKeys:{key:l},defaultCenter:{lat:43.6532,lng:-79.3832},defaultZoom:t,yesIWantToUseGoogleMapApiInternals:!0,onGoogleApiLoaded:function(e){var t=e.map,a=e.maps;return o(t,a)}})))};a(216);function P(e){var t=e.run,a=e.show,n=e.handleClose,l={lat:t.latitude,lng:t.longitude},o={lat:t.latitude_to,lng:t.longitude_to};return r.a.createElement(r.a.Fragment,null,r.a.createElement(C.a,{className:"run-modal",show:a,onHide:n,size:"xl","aria-labelledby":"contained-modal-title-vcenter",centered:!0},r.a.createElement(C.a.Header,{className:"route-modal-header",closeButton:!0},r.a.createElement(C.a.Title,{id:"contained-modal-title-vcenter",className:"modal-title"},t.name)),r.a.createElement(C.a.Body,{className:"route-modal-message"},r.a.createElement("p",null,t.description),r.a.createElement("div",{className:"run-info"},r.a.createElement(I,{zoom:10,from:l,to:o}),r.a.createElement(s.a,{variant:"flush"},r.a.createElement(s.a.Item,{as:"h4"},"Details & Route"),r.a.createElement(s.a.Item,null,"On ",t.date," at ",t.event_time),r.a.createElement(s.a.Item,null,"Start: ",t.location),r.a.createElement(s.a.Item,null,"Finish: ",t.location_to),r.a.createElement(s.a.Item,null,"Distance: ",t.distance,"km")))),r.a.createElement(C.a.Footer,null,r.a.createElement(k.a,{onClick:n},"Close"))))}function S(e){var t=e.run,a=e.type,l=e.canJoinRun,o=e.join,c=Object(n.useState)(l(t.id)||!1),i=Object(u.a)(c,2),m=i[0],d=(i[1],Object(n.useState)("")),p=Object(u.a)(d,2),f=p[0],E=p[1],h=Object(n.useState)(""),g=Object(u.a)(h,2),b=g[0],v=g[1],y=Object(n.useState)(!1),N=Object(u.a)(y,2),k=N[0],C=N[1];return Object(n.useEffect)(function(){0!==t.time&&"attended"===a&&E("".concat(t.time," min")),t.future_run&&v("".concat(t.date," at ").concat(t.event_time)),t.future_run||v("Was on ".concat(t.date," at ").concat(t.event_time))},[]),r.a.createElement(r.a.Fragment,null,r.a.createElement("section",{className:"run"},r.a.createElement("img",{alt:"Shows running space",className:"run-image",src:"/api/runs/image/".concat(t.id)}),r.a.createElement("div",{className:"run-body"},r.a.createElement("div",{className:"run-heading"},"available"===a&&r.a.createElement("span",{id:"run-".concat(t.id),className:"run-id"},t.id),r.a.createElement("h3",null,t.name),r.a.createElement(O.a,{placement:"left",delay:{show:250,hide:50},overlay:function(e){return r.a.createElement(w.a,Object.assign({id:"button-tooltip"},e),r.a.createElement("p",null,"Event on: ",t.date),r.a.createElement("p",null,"Click for more"))}},r.a.createElement("button",{type:"button",className:"detail-button",onClick:function(){C(!0)}},"Details"))),r.a.createElement("p",null,t.description),r.a.createElement("div",{className:"run-desc"},r.a.createElement(s.a,{variant:"flush"},r.a.createElement(s.a.Item,null,r.a.createElement("strong",null,"When:")," ",b),r.a.createElement(s.a.Item,null,r.a.createElement("strong",null,"Distance:")," ",t.distance," km"),f&&r.a.createElement(s.a.Item,null,r.a.createElement("strong",null,"Recorded Time:")," ",f)),r.a.createElement(j,{runType:a,joinStatus:m,join:o})))),r.a.createElement(P,{run:t,show:k,handleClose:function(){C(!1)}}))}var T=a(92);function R(e){var t=Object(i.n)(),a=Object(n.useState)(""),l=Object(u.a)(a,2),o=l[0],c=l[1];return Object(n.useEffect)(function(){"attended"===e.type&&c({link:"/runs",action:"Join",headingText:"You have not participated in any runs yet. See all available runs in your area."}),"planned"===e.type&&c({link:"/create",action:"Plan",headingText:"You have not planned any runs yet. Plan a new running event."})},[e.type]),r.a.createElement(r.a.Fragment,null,r.a.createElement(T.a,{className:"empty-runs-container"},r.a.createElement("h3",null,o.headingText),r.a.createElement(k.a,{className:"btn",variant:"custom",onClick:function(){t(o.link)}},o.action)))}function A(e){var t=Object(i.n)(),a=Object(n.useState)(""),l=Object(u.a)(a,2),o=l[0],c=l[1],s=function(e){t(e)},m=function(e){return r.a.createElement(w.a,Object.assign({id:"button-tooltip"},e),o)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(T.a,{className:"profile-actions"},r.a.createElement(O.a,{placement:"left",delay:{show:250,hide:50},overlay:m},r.a.createElement("span",{className:"material-symbols-rounded",onClick:function(){return s("/create")},onMouseEnter:function(){return c("Plan A Run")}},"group_work")),r.a.createElement(O.a,{placement:"left",delay:{show:250,hide:50},overlay:m},r.a.createElement("span",{className:"material-symbols-rounded",onClick:function(){return s("/runs")},onMouseEnter:function(){return c("Join A Run")}},"run_circle"))))}var F=a(168),D=a(181),B=a(180),U=(a(219),a(179)),G=a.n(U);function q(){var e=Object(c.d)(g),t=Object(c.d)(v),a=Object(c.d)(y),l=N(),o=l.joinRun,i=l.canJoinRun,s=Object(n.useState)({distance:0,minutes:0,count:0}),m=Object(u.a)(s,2),d=m[0],p=m[1],f=function(e,t){var a=Object.values(e);return 0===a.length?r.a.createElement(R,{type:t}):a.map(function(e){return r.a.createElement(S,{key:e.id,run:e,type:t,join:o,canJoinRun:i})})},E=r.a.createElement("img",{className:"profile-pic",src:G.a,alt:"icon-profile"});return Object(n.useEffect)(function(){var e=0,a=0,n=0;for(var r in t)!1===t[r].future_run&&(e+=parseInt(t[r].distance),a+=parseInt(t[r].time),n+=1);p({distance:e,minutes:a,count:n})},[t]),r.a.createElement("main",{className:"profile-section"},r.a.createElement("section",{className:"profile-header"},r.a.createElement("div",{className:"profile-info"},r.a.createElement("div",{className:"profile-welcome"},r.a.createElement("div",null,r.a.createElement("h1",null,"Welcome!"),e&&r.a.createElement("p",null,e.name)),r.a.createElement(A,null)),r.a.createElement("h4",null,"YOU HAVE:"),r.a.createElement(B.a,{size:"sm"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"RUN FOR"),r.a.createElement("th",null,"COVERED"),r.a.createElement("th",null,"ATTENDED"))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,d.minutes,r.a.createElement("span",{className:"unit"},"min")),r.a.createElement("td",null,d.distance,r.a.createElement("span",{className:"unit"},"km")),r.a.createElement("td",null,d.count,r.a.createElement("span",{className:"unit"},"runs")))))),E),r.a.createElement("section",{className:"profile-stats"},r.a.createElement(D.a,{defaultActiveKey:"attended",id:"profile-tab",className:"mb-3",fill:!0},r.a.createElement(F.a,{eventKey:"attended",title:"Attended"},r.a.createElement("section",{className:"runs-tab"},t&&f(t,"attended"))),r.a.createElement(F.a,{eventKey:"planned",title:"Planned"},r.a.createElement("section",{className:"runs-tab"},a&&f(a,"planned"))))))}a(176);var H=a(21),M=(a(222),function(e){var t=e.id,a=e.$hover,n=e.description,l=e.distance,o=e.date;return r.a.createElement(O.a,{placement:"left",delay:{show:100,hide:100},overlay:function(e){return r.a.createElement(w.a,Object.assign({id:"button-tooltip"},e),r.a.createElement("p",null,n,l&&" (".concat(l,"k)")),r.a.createElement("p",null,o&&"Date: ".concat(o)))}},r.a.createElement("a",{href:"#run-".concat(t)},r.a.createElement("div",{className:a?"circle hover":"circle"},r.a.createElement("span",{className:"circleText"},t))))}),Y=function(e){var t=e.center,a=e.zoom,l=Object(c.c)(L),o=Object(u.a)(l,2),i=o[0],s=o[1],m=Object({NODE_ENV:"production",PUBLIC_URL:"/werun"}).REACT_APP_MAP_API_KEY;return Object(n.useEffect)(function(){navigator.geolocation.getCurrentPosition(function(e){var t=e.coords,a=t.latitude,n=t.longitude;s({lat:a,lng:n})})},[]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"map",style:{height:"80vh",width:"100%"}},r.a.createElement(x.a,{bootstrapURLKeys:{key:m},defaultCenter:{lat:43.6532,lng:-79.3832},center:i,defaultZoom:a},r.a.createElement(M,{lat:t.lat,lng:t.lng,id:"Me",description:"You are here!"}))))};function J(){var e=Object(c.d)(L);return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"map-container",style:{height:"85vh",width:"100%"}},r.a.createElement("section",{className:"map-info"},r.a.createElement("h2",null,"Search"),r.a.createElement("p",null,"Find a run near you. Hover on the orange dots to see details about each run. Click to go to the run. You can also see a full list below."),r.a.createElement("a",{href:"#available-runs"},r.a.createElement("span",{className:"material-symbols-rounded"},"expand_more")),r.a.createElement("p",null,"Can't find a run near you? Plan one ",r.a.createElement(H.a,{to:"/create"},"here"),".")),r.a.createElement(Y,{center:e,zoom:10})))}var K=a(182),W=a(139),z=a.n(W);function V(e){var t=e.joinButtonPressed,a=e.setJoinButtonPressed,l=e.text,o=Object(i.n)();Object(n.useEffect)(function(){if(!0===t){var e=setTimeout(function(){a(!1),o("/profile")},3e3);return function(){return clearTimeout(e)}}},[t]);var c=r.a.createElement("img",{className:"logo-status",src:z.a,width:"50em",height:"auto",style:{margin:"0 40px"},alt:"logo on status spinner"});return r.a.createElement(r.a.Fragment,null,r.a.createElement(C.a,{className:"joining-status-modal",size:"lg",show:t,backdrop:"static",keyboard:!1},r.a.createElement(C.a.Header,{className:"joining-status-header"},c,r.a.createElement(C.a.Title,null,"THANK YOU FOR ",l," A RUN!"),c),r.a.createElement(C.a.Body,{className:"joining-status-message"},r.a.createElement("p",null,"You will now be directed to your profile page. You will receive a text message confirming the address of the run and other relevant information!"),r.a.createElement("p",null,"Reach out to us for more information at hello@werun.com."),r.a.createElement(K.a,{className:"status-spinner",animation:"border"}))))}a(223);function Z(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("section",{id:"find-run-page"},r.a.createElement(J,null),r.a.createElement("section",{id:"available-runs"},r.a.createElement("h2",null,"Available right now"),r.a.createElement("p",null,"Our runs are about being inclusive, community and wellbeing. Our mission is for people to feel part of a real local community brought together by physical activity, as well as our national weRun family across Canada. If you can't find an event near you, you can register with weRun and plan your own."))))}var $=a(15),Q=a(2),X=a(14),ee=a(38),te=(a(159),a(106)),ae=a(62);function ne(){var e=N().registerUser,t=Object(n.useState)({name:"",email:"",password:"",phone:"",age:"",runner:!1,planner:!1}),a=Object(u.a)(t,2),l=a[0],o=a[1],c=function(e){o(Object(Q.a)({},l,Object($.a)({},e.target.name,e.target.value)))},s=function(e){var t=l[e.target.name];o(Object(Q.a)({},l,Object($.a)({},e.target.name,!t)))},m=Object(i.n)();return r.a.createElement("div",{className:"forms"},r.a.createElement(X.a,{className:"form-container",onSubmit:function(t){t.preventDefault(),e(l),m("/profile")}},r.a.createElement("div",{className:"form-container-text"},r.a.createElement(X.a.Text,{as:"h3"},"HI THERE, RUNNER!"),r.a.createElement(X.a.Text,{as:"p"},"Create an account with us to use weRun and join runs with people from all over Canada.")),r.a.createElement(ee.a,{controlId:"floatingInput",label:"Name",className:"mb-3"},r.a.createElement(X.a.Control,{required:!0,type:"text",placeholder:"Firstname / Lastname",name:"name",value:l.name,onChange:c}),r.a.createElement(X.a.Control.Feedback,null,"Looks good!"),r.a.createElement(X.a.Control.Feedback,{type:"invalid"},"Enter your name.")),r.a.createElement(ee.a,{controlId:"floatingInput",label:"Email",className:"mb-3"},r.a.createElement(X.a.Control,{required:!0,name:"email",type:"email",placeholder:"name@example.com",value:l.email,onChange:c}),r.a.createElement(X.a.Control.Feedback,null,"Looks good!"),r.a.createElement(X.a.Control.Feedback,{type:"invalid"},"Enter a valid email address.")),r.a.createElement(ee.a,{controlId:"floatingPassword",label:"Password",className:"mb-3"},r.a.createElement(X.a.Control,{required:!0,type:"password",name:"password",placeholder:"Password",value:l.password,onChange:c}),r.a.createElement(X.a.Control.Feedback,null,"Cool password!"),r.a.createElement(X.a.Control.Feedback,{type:"invalid"},"Enter a valid password.")),r.a.createElement(te.a,null,r.a.createElement(ae.a,null,r.a.createElement(ee.a,{controlId:"phone",label:"Phone",className:"mb-3"},r.a.createElement(X.a.Control,{required:!0,type:"text",placeholder:"Phone",name:"phone",value:l.phone,onChange:c}),r.a.createElement(X.a.Control.Feedback,null,"Got it!"),r.a.createElement(X.a.Control.Feedback,{type:"invalid"},"Enter a valid phone number."))),r.a.createElement(ae.a,null,r.a.createElement(ee.a,{controlId:"floatingInput",label:"Age",className:"mb-3"},r.a.createElement(X.a.Control,{required:!0,type:"text",placeholder:"Age",name:"age",value:l.age,onChange:c}),r.a.createElement(X.a.Control.Feedback,null,"You're getting old.."),r.a.createElement(X.a.Control.Feedback,{type:"invalid"},"Enter a valid age."))," ")),r.a.createElement(r.a.Fragment,null,r.a.createElement(X.a.Text,{id:"profileHelpBlock",muted:!0},"Gender:"),r.a.createElement(X.a.Group,{name:"gender",className:"mb-3",controlId:"formBasicCheckbox","aria-describedby":"profileHelpBlock"},["he/Him","she/Her","they/Them","I prefer not to say"].map(function(e,t){return r.a.createElement(X.a.Check,{required:!0,inline:!0,key:e,label:e,name:"gender",type:"radio",id:"inline-radio-".concat(t),value:e,checked:l.gender===e,onChange:c})}))),r.a.createElement(X.a.Text,{id:"profileHelpBlock",muted:!0},"Pick atleast 1:"),r.a.createElement(X.a.Group,{className:"mb-3",controlId:"formBasicCheckbox","aria-describedby":"profileHelpBlock"},r.a.createElement(X.a.Check,{inline:!0,label:"Runner",type:"checkbox",id:"inline-checkbox-1",name:"runner",checked:l.runner,onChange:s}),r.a.createElement(X.a.Check,{inline:!0,label:"Planner",type:"checkbox",id:"inline-checkbox-2",name:"planner",checked:l.planner,onChange:s})),r.a.createElement(k.a,{variant:"custom",type:"submit",className:"btn"},"Submit")))}a(224);var re=a(183),le=a.n(re),oe=a(184),ce=a.n(oe);function ie(){return r.a.createElement("div",null,r.a.createElement("div",{className:"home"},r.a.createElement("div",null,r.a.createElement("div",{className:"home-intro"},r.a.createElement("h2",null,"Welcome to weRun!"),r.a.createElement("p",null,"We organise free, weekly, timed, community events all over Canada. Get connected to runs near you today. Bring a buddy!")),r.a.createElement("div",{className:"home-actions"},r.a.createElement(H.a,{className:"home-join",to:"/runs"},r.a.createElement("div",{className:"underline"},"Find"),r.a.createElement("p",null,"Search for local running events")),r.a.createElement(H.a,{className:"home-plan",to:"/create"},r.a.createElement("div",{className:"underline"},"Plan"),r.a.createElement("p",null,"Create a new running event")))),r.a.createElement("div",{className:"logo-container"},r.a.createElement("img",{src:le.a,className:"logo",alt:"logo"}),r.a.createElement("img",{src:ce.a,className:"square-logo",alt:"logo"}))))}function ue(){var e=Object(n.useState)(""),t=Object(u.a)(e,2),a=t[0],l=t[1],o=Object(n.useState)(""),s=Object(u.a)(o,2),m=s[0],d=s[1],p=N().login,f=(Object(c.e)(g),Object(i.n)());return r.a.createElement("div",{className:"forms"},r.a.createElement(X.a,{className:"form-container sign-in text-center",onSubmit:function(e){e.preventDefault(),p(a,m).then(function(e){e&&f("/profile")})}},r.a.createElement("div",{className:"form-container-text"},r.a.createElement(X.a.Text,{as:"h3"},"WELCOME BACK, RUNNER!"),r.a.createElement(X.a.Text,{as:"p"},"Sign in to see all your running events.")),r.a.createElement(ee.a,{controlId:"floatingInput",label:"Email",className:"mb-3"},r.a.createElement(X.a.Control,{required:!0,type:"email",placeholder:"name@example.com",value:a,onChange:function(e){return l(e.target.value)}})),r.a.createElement(ee.a,{controlId:"floatingPassword",label:"Password",className:"mb-3"},r.a.createElement(X.a.Control,{required:!0,type:"password",placeholder:"Password",value:m,onChange:function(e){return d(e.target.value)}})),r.a.createElement(k.a,{variant:"custom",type:"submit",className:"btn"},"Sign In"),r.a.createElement(X.a.Text,{as:"div",className:"text-center mb-2 mt-4"},"Don't have an account? Create one ",r.a.createElement(H.a,{to:"/register"},"here"),".")))}var se=a(186),me=a.n(se),de=(a(225),a(185));function pe(e){var t=Object({NODE_ENV:"production",PUBLIC_URL:"/werun"}).REACT_APP_MAP_API_KEY,a=e.setAddress,n=Object(de.usePlacesWidget)({apiKey:t,onPlaceSelected:function(e){a(e.formatted_address,e.geometry.location.lat(),e.geometry.location.lng())},options:{types:["park"],componentRestrictions:{country:"ca"},fields:["name","formatted_address","geometry"]},inputAutocompleteValue:"text"}).ref;return r.a.createElement(r.a.Fragment,null,r.a.createElement(X.a.Control,{required:!0,type:"text",ref:n,placeholder:"something",autoComplete:"text"}))}function fe(){var e=Object(c.d)(g),t=Object(n.useState)(!1),a=Object(u.a)(t,2),l=a[0],o=a[1],s=Object(n.useState)({planner_id:"",name:"",description:"",distance:"",time:"".concat((new Date).getHours(),":").concat((new Date).getMinutes()),date:new Date,file:"",lat:"",lng:"",address:"",lat_to:"",lng_to:"",address_to:""}),m=Object(u.a)(s,2),d=m[0],p=m[1],f=Object(i.n)(),E=N().createRun,h=function(e){p(Object(Q.a)({},d,Object($.a)({},e.target.name,e.target.value)))};return Object(n.useEffect)(function(){e||f("/signin"),e&&p(Object(Q.a)({},d,{planner_id:e.id}))},[]),r.a.createElement("div",{className:"forms"},r.a.createElement(X.a,{className:"form-container",encType:"multipart/form-data",onSubmit:function(e){e.preventDefault(),E(Object(Q.a)({},d))&&o(!0)}},r.a.createElement("div",{className:"form-container-text"},r.a.createElement(X.a.Text,{as:"h3"},"Create a Run"),r.a.createElement(X.a.Text,{as:"p"},"Don't see a run event near you? Just tell us where and when and the rest is on us.")),r.a.createElement(ee.a,{controlId:"name",label:"Name",className:"mb-3"},r.a.createElement(X.a.Control,{required:!0,type:"text",placeholder:"Name",name:"name",value:d.name,onChange:h}),r.a.createElement(X.a.Control.Feedback,null,"Looks good!"),r.a.createElement(X.a.Control.Feedback,{type:"invalid"},"Enter a name for the run.")),r.a.createElement(ee.a,{controlId:"description",label:"Description",className:"mb-3"},r.a.createElement(X.a.Control,{required:!0,as:"textarea",type:"text",name:"description",placeholder:"Description",value:d.description,onChange:h}),r.a.createElement(X.a.Control.Feedback,null,"Looks good!"),r.a.createElement(X.a.Control.Feedback,{type:"invalid"},"Write a short description including directions, necessary information, etc.")),r.a.createElement(te.a,null,r.a.createElement(ae.a,null,r.a.createElement(ee.a,{controlId:"location",label:"From...",className:"mb-3"},r.a.createElement(pe,{setAddress:function(e,t,a){return p(function(n){return Object(Q.a)({},n,{address:e,lat:t,lng:a})})}}),r.a.createElement(X.a.Control.Feedback,null,"Looks good!"),r.a.createElement(X.a.Control.Feedback,{type:"invalid"},"Enter a valid address."))),r.a.createElement(ae.a,null,r.a.createElement(ee.a,{controlId:"location",label:"To...",className:"mb-3"},r.a.createElement(pe,{setAddress:function(e,t,a){return p(function(n){return Object(Q.a)({},n,{address_to:e,lat_to:t,lng_to:a})})}}),r.a.createElement(X.a.Control.Feedback,null,"Looks good!"),r.a.createElement(X.a.Control.Feedback,{type:"invalid"},"Enter a valid address.")))),r.a.createElement(X.a.Group,{controlId:"distance",className:"mb-3"},r.a.createElement(X.a.Label,null,"Distance"),r.a.createElement("div",{className:"mb-3"},[2,5,10].map(function(e,t){return r.a.createElement(X.a.Check,{required:!0,key:e,inline:!0,type:"radio",id:"inline-radio-1-".concat(t),label:"".concat(e,"k"),value:e,name:"distance",onChange:h})}))),r.a.createElement(te.a,null,r.a.createElement(ae.a,null,r.a.createElement(X.a.Group,{controlId:"date",className:"mb-3",style:{width:"100%"}},r.a.createElement(X.a.Label,null,"Date"),r.a.createElement(me.a,{className:"date-picker",required:!0,name:"date",selected:d.date,onChange:function(e){return p(Object(Q.a)({},d,{date:e}))},key:d.date}))),r.a.createElement(ae.a,null,r.a.createElement(X.a.Group,{controlId:"time",className:"mb-3"},r.a.createElement(X.a.Label,null,"Time"),r.a.createElement(X.a.Control,{required:!0,key:d.time,type:"time",name:"time",placeholder:"Time",value:d.time,onChange:function(e){return p(Object(Q.a)({},d,{time:e.target.value}))}}),r.a.createElement(X.a.Control.Feedback,null,"Looks good!"),r.a.createElement(X.a.Control.Feedback,{type:"invalid"},"Enter a valid time.")))),r.a.createElement(X.a.Group,{controlId:"formFileLg",className:"mb-3"},r.a.createElement(X.a.Label,null,"Upload an image"),r.a.createElement(X.a.Control,{required:!0,name:"file",type:"file",onChange:function(e){return p(Object(Q.a)({},d,{file:e.target.files[0]}))}}),r.a.createElement(X.a.Control.Feedback,null,"Looks good!"),r.a.createElement(X.a.Control.Feedback,{type:"invalid"},"Upload an image for this run.")),r.a.createElement(k.a,{variant:"custom",type:"submit",className:"btn"},"Create")),r.a.createElement(V,{joinButtonPressed:l,setJoinButtonPressed:o,text:"PLANNING"}))}var Ee=a(109),he=a(156);a(271);function ge(){var e=Object(c.d)(g),t=Object(i.n)(),a=N().logout;return r.a.createElement(he.a,{id:"navigation",bg:"light",expand:"lg"},r.a.createElement(T.a,{fluid:!0},r.a.createElement(H.a,{className:"navbar-brand",to:"/"},r.a.createElement("img",{src:z.a,className:"d-inline-block align-top",alt:"logo"})),r.a.createElement(he.a.Toggle,{"aria-controls":"navbarScroll"}),r.a.createElement(he.a.Collapse,{id:"navbarScroll"},r.a.createElement(Ee.a,{className:"me-auto my-2 my-lg-0",style:{maxHeight:"100px"},navbarScroll:!0},r.a.createElement(H.a,{className:"nav-link",to:"/"},"Home"),r.a.createElement(H.a,{className:"nav-link",to:"/runs"},"Join A Run")),r.a.createElement(Ee.a,{pullRight:!0},null===e&&r.a.createElement(H.a,{className:"nav-link",to:"/signin"},"Sign In"),null===e&&r.a.createElement(H.a,{className:"nav-link",to:"/register"},"Sign Up"),null!==e&&r.a.createElement(H.a,{className:"nav-link",to:"/profile"},"Profile"),null!==e&&r.a.createElement(H.a,{className:"nav-link",to:"#",onClick:function(){a().then(function(e){null===e&&t("/")})}},"Sign Out")))))}function be(){return r.a.createElement("div",null,r.a.createElement(ge,null),r.a.createElement(i.a,null))}a(272).config(),console.log(Object({NODE_ENV:"production",PUBLIC_URL:"/werun"}).REACT_APP_NEW_SECRET);var ve=Object(H.b)(Object(i.i)(r.a.createElement(i.b,{path:"/",element:r.a.createElement(be,null)},r.a.createElement(i.b,{index:!0,element:r.a.createElement(ie,null)}),r.a.createElement(i.b,{path:"/profile",element:r.a.createElement(q,null)}),r.a.createElement(i.b,{path:"/runs",element:r.a.createElement(Z,null)}),r.a.createElement(i.b,{path:"/register",element:r.a.createElement(ne,null)}),r.a.createElement(i.b,{path:"/create",element:r.a.createElement(fe,null)}),r.a.createElement(i.b,{path:"/signin",element:r.a.createElement(ue,null)}),r.a.createElement(i.b,{path:"/run-info",element:r.a.createElement(P,null)}))));o.a.render(r.a.createElement(c.a,null,r.a.createElement(i.d,{router:ve})),document.getElementById("root"))}},[[190,1,2]]]);
//# sourceMappingURL=main.ed5c0607.chunk.js.map